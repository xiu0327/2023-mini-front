/*
@license
Webix <%= pkg.productName %> v.<%= pkg.version %>
This software is covered by Webix Trial License.
Usage without proper license is prohibited.
(c) XB Software Ltd.
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).todo={})}(this,(function(t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,i)};function i(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function r(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function o(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var a=function(){},s=function(){function t(t,e){this.webixJet=!0,this.webix=t,this._events=[],this._subs={},this._data={},e&&e.params&&t.extend(this._data,e.params)}return t.prototype.getRoot=function(){return this._root},t.prototype.destructor=function(){this._detachEvents(),this._destroySubs(),this._events=this._container=this.app=this._parent=this._root=null},t.prototype.setParam=function(t,e,i){if(this._data[t]!==e&&(this._data[t]=e,this._segment.update(t,e,0),i))return this.show(null)},t.prototype.getParam=function(t,e){var i=this._data[t];if(void 0!==i||!e)return i;var n=this.getParentView();return n?n.getParam(t,e):void 0},t.prototype.getUrl=function(){return this._segment.suburl()},t.prototype.getUrlString=function(){return this._segment.toString()},t.prototype.getParentView=function(){return this._parent},t.prototype.$$=function(t){if("string"==typeof t){var e=this.getRoot();return e.queryView((function(i){return(i.config.id===t||i.config.localId===t)&&i.$scope===e.$scope}),"self")}return t},t.prototype.on=function(t,e,i){var n=t.attachEvent(e,i);return this._events.push({obj:t,id:n}),n},t.prototype.contains=function(t){for(var e in this._subs){var i=this._subs[e].view;if(i===t||i.contains(t))return!0}return!1},t.prototype.getSubView=function(t){var e=this.getSubViewInfo(t);if(e)return e.subview.view},t.prototype.getSubViewInfo=function(t){var e=this._subs[t||"default"];return e?{subview:e,parent:this}:"_top"===t?(this._subs[t]={url:"",id:null,popup:!0},this.getSubViewInfo(t)):this._parent?this._parent.getSubViewInfo(t):null},t.prototype._detachEvents=function(){for(var t=this._events,e=t.length-1;e>=0;e--)t[e].obj.detachEvent(t[e].id)},t.prototype._destroySubs=function(){for(var t in this._subs){var e=this._subs[t].view;e&&e.destructor()}this._subs={}},t.prototype._init_url_data=function(){var t=this._segment.current();this._data={},this.webix.extend(this._data,t.params,!0)},t.prototype._getDefaultSub=function(){if(this._subs.default)return this._subs.default;for(var t in this._subs){var e=this._subs[t];if(!e.branch&&e.view&&"_top"!==t){var i=e.view._getDefaultSub();if(i)return i}}},t.prototype._routed_view=function(){var t=this.getParentView();if(!t)return!0;var e=t._getDefaultSub();return!(!e&&e!==this)&&t._routed_view()},t}();function u(t){"/"===t[0]&&(t=t.substr(1));for(var e=t.split("/"),i=[],n=0;n<e.length;n++){var r=e[n],o={},a=r.indexOf(":");if(-1===a&&(a=r.indexOf("?")),-1!==a)for(var s=0,u=r.substr(a+1).split(/[\:\?\&]/g);s<u.length;s++){var c=u[s].split("=");o[c[0]]=decodeURIComponent(c[1])}i[n]={page:a>-1?r.substr(0,a):r,params:o,isNew:!0}}return i}function c(t){for(var e=[],i=0,n=t;i<n.length;i++){var r=n[i];e.push("/"+r.page);var o=p(r.params);o&&e.push("?"+o)}return e.join("")}function p(t){var e=[];for(var i in t)"object"!=typeof t[i]&&(e.length&&e.push("&"),e.push(i+"="+encodeURIComponent(t[i])));return e.join("")}var h=function(){function t(t,e){this._next=1,this.route="string"==typeof t?{url:u(t),path:t}:t,this.index=e}return t.prototype.current=function(){return this.route.url[this.index]},t.prototype.next=function(){return this.route.url[this.index+this._next]},t.prototype.suburl=function(){return this.route.url.slice(this.index)},t.prototype.shift=function(e){var i=new t(this.route,this.index+this._next);return i.setParams(i.route.url,e,i.index),i},t.prototype.setParams=function(t,e,i){if(e){var n=t[i].params;for(var r in e)n[r]=e[r]}},t.prototype.refresh=function(){for(var t=this.route.url,e=this.index+1;e<t.length;e++)t[e].isNew=!0},t.prototype.toString=function(){var t=c(this.suburl());return t?t.substr(1):""},t.prototype._join=function(t,e){var i=this.route.url;if(null===t)return i;var n=this.route.url,r=!0;if(i=n.slice(0,this.index+(e?this._next:0)),t){i=i.concat(u(t));for(var o=0;o<i.length;o++)n[o]&&(i[o].view=n[o].view),r&&n[o]&&i[o].page===n[o].page?i[o].isNew=!1:i[o].isNew&&(r=!1)}return i},t.prototype.append=function(t){var e=this._join(t,!0);return this.route.path=c(e),this.route.url=e,this.route.path},t.prototype.show=function(t,e,i){var n=this,r=this._join(t.url,i);return this.setParams(r,t.params,this.index+(i?this._next:0)),new Promise((function(t,i){var o=c(r),s={url:r,redirect:o,confirm:Promise.resolve()},u=e?e.app:null;if(u&&!u.callEvent("app:guard",[s.redirect,e,s]))return void i(new a);s.confirm.catch((function(t){return i(t)})).then((function(){if(null!==s.redirect){if(s.redirect!==o)return u.show(s.redirect),void i(new a);n.route.path=o,n.route.url=r,t()}else i(new a)}))}))},t.prototype.size=function(t){this._next=t},t.prototype.split=function(){var e={url:this.route.url.slice(this.index+1),path:""};return e.url.length&&(e.path=c(e.url)),new t(e,0)},t.prototype.update=function(t,e,i){var n=this.route.url[this.index+(i||0)];if(!n)return this.route.url.push({page:"",params:{}}),this.update(t,e,i);""===t?n.page=e:n.params[t]=e,this.route.path=c(this.route.url)},t}(),l=function(t){function e(e,i){var n=t.call(this,e.webix)||this;return n.app=e,n._children=[],n}return i(e,t),e.prototype.ui=function(t,e){var i=(e=e||{}).container||t.container,n=this.app.createView(t);return this._children.push(n),n.render(i,this._segment,this),"object"!=typeof t||t instanceof s?n:n.getRoot()},e.prototype.show=function(t,e){if(e=e||{},"object"==typeof t){for(var i in t)this.setParam(i,t[i]);t=null}else{if("/"===t.substr(0,1))return this.app.show(t,e);if(0===t.indexOf("./")&&(t=t.substr(2)),0===t.indexOf("../")){var n=this.getParentView();return n?n.show(t.substr(3),e):this.app.show("/"+t.substr(3))}var r=this.getSubViewInfo(e.target);if(r){if(r.parent!==this)return r.parent.show(t,e);if(e.target&&"default"!==e.target)return this._renderFrameLock(e.target,r.subview,{url:t,params:e.params})}else if(t)return this.app.show("/"+t,e)}return this._show(this._segment,{url:t,params:e.params},this)},e.prototype._show=function(t,e,i){var n=this;return t.show(e,i,!0).then((function(){return n._init_url_data(),n._urlChange()})).then((function(){t.route.linkRouter&&(n.app.getRouter().set(t.route.path,{silent:!0}),n.app.callEvent("app:route",[t.route.path]))}))},e.prototype.init=function(t,e){},e.prototype.ready=function(t,e){},e.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},e.prototype.urlChange=function(t,e){},e.prototype.destroy=function(){},e.prototype.destructor=function(){this.destroy(),this._destroyKids(),this._root&&(this._root.destructor(),t.prototype.destructor.call(this))},e.prototype.use=function(t,e){t(this.app,this,e)},e.prototype.refresh=function(){this.getUrl();return this.destroy(),this._destroyKids(),this._destroySubs(),this._detachEvents(),this._container.tagName&&this._root.destructor(),this._segment.refresh(),this._render(this._segment)},e.prototype.render=function(t,e,i){var n=this;"string"==typeof e&&(e=new h(e,0)),this._segment=e,this._parent=i,this._init_url_data();var r="string"==typeof(t=t||document.body)?this.webix.toNode(t):t;return this._container!==r?(this._container=r,this._render(e)):this._urlChange().then((function(){return n.getRoot()}))},e.prototype._render=function(t){var e=this,i=this.config();return i.then?i.then((function(i){return e._render_final(i,t)})):this._render_final(i,t)},e.prototype._render_final=function(t,e){var i,n=this,r=null,o=null,a=!1;if(this._container.tagName?o=this._container:(r=this._container).popup?(o=document.body,a=!0):o=this.webix.$$(r.id),!this.app||!o)return Promise.reject(null);var s=this._segment.current(),u={ui:{}};this.app.copyConfig(t,u.ui,this._subs),this.app.callEvent("app:render",[this,e,u]),u.ui.$scope=this,!r&&s.isNew&&s.view&&s.view.destructor();try{if(r&&!a){var c=o,p=c.getParentView();p&&"multiview"===p.name&&!u.ui.id&&(u.ui.id=c.config.id)}this._root=this.app.webix.ui(u.ui,o);var h=this._root;a&&h.setPosition&&!h.isVisible()&&h.show(),r&&(r.view&&r.view!==this&&r.view!==this.app&&r.view.destructor(),r.id=this._root.config.id,this.getParentView()||!this.app.app?r.view=this:r.view=this.app),s.isNew&&(s.view=this,s.isNew=!1),i=Promise.resolve(this._init(this._root,e)).then((function(){return n._urlChange().then((function(){return n._initUrl=null,n.ready(n._root,e.suburl())}))}))}catch(t){i=Promise.reject(t)}return i.catch((function(t){return n._initError(n,t)}))},e.prototype._init=function(t,e){return this.init(t,e.suburl())},e.prototype._urlChange=function(){var t=this;this.app.callEvent("app:urlchange",[this,this._segment]);var e=[];for(var i in this._subs){var n=this._subs[i],r=this._renderFrameLock(i,n,null);r&&e.push(r)}return Promise.all(e).then((function(){return t.urlChange(t._root,t._segment.suburl())}))},e.prototype._renderFrameLock=function(t,e,i){if(!e.lock){var n=this._renderFrame(t,e,i);n&&(e.lock=n.then((function(){return e.lock=null}),(function(){return e.lock=null})))}return e.lock},e.prototype._renderFrame=function(t,e,i){var n=this;if("default"===t){if(this._segment.next()){var r=i?i.params:null;return e.params&&(r=this.webix.extend(r||{},e.params)),this._createSubView(e,this._segment.shift(r))}e.view&&e.popup&&(e.view.destructor(),e.view=null)}if(null!==i&&(e.url=i.url,e.params&&(i.params=this.webix.extend(i.params||{},e.params))),e.route){if(null!==i)return e.route.show(i,e.view).then((function(){return n._createSubView(e,e.route)}));if(e.branch)return}var o=e.view;if(!o&&e.url){if("string"==typeof e.url)return e.route=new h(e.url,0),i&&e.route.setParams(e.route.route.url,i.params,0),e.params&&e.route.setParams(e.route.route.url,e.params,0),this._createSubView(e,e.route);"function"!=typeof e.url||o instanceof e.url||(o=new(this.app._override(e.url))(this.app,"")),o||(o=e.url)}if(o)return o.render(e,e.route||this._segment,this)},e.prototype._initError=function(t,e){return this.app&&this.app.error("app:error:initview",[e,t]),!0},e.prototype._createSubView=function(t,e){var i=this;return this.app.createFromURL(e.current()).then((function(n){return n.render(t,e,i)}))},e.prototype._destroyKids=function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e]&&t[e].destructor&&t[e].destructor();this._children=[]},e}(s),d=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n._ui=i.ui,n}return i(e,t),e.prototype.config=function(){return this._ui},e}(l),f=function(){function t(t,e,i){this.path="",this.app=i}return t.prototype.set=function(t,e){this.path=t;var i=this.app;i.app.getRouter().set(i._segment.append(this.path),{silent:!0})},t.prototype.get=function(){return this.path},t}(),v=!0,g=function(t){function e(e){var i=this,n=(e||{}).webix||window.webix;return e=n.extend({name:"App",version:"1.0",start:"/home"},e,!0),(i=t.call(this,n,e)||this).config=e,i.app=i.config.app,i.ready=Promise.resolve(),i._services={},i.webix.extend(i,i.webix.EventSystem),i}return i(e,t),e.prototype.getUrl=function(){return this._subSegment.suburl()},e.prototype.getUrlString=function(){return this._subSegment.toString()},e.prototype.getService=function(t){var e=this._services[t];return"function"==typeof e&&(e=this._services[t]=e(this)),e},e.prototype.setService=function(t,e){this._services[t]=e},e.prototype.destructor=function(){this.getSubView().destructor(),t.prototype.destructor.call(this)},e.prototype.copyConfig=function(t,e,i){if((t instanceof s||"function"==typeof t&&t.prototype instanceof s)&&(t={$subview:t}),void 0!==t.$subview)return this.addSubView(t,e,i);var n=t instanceof Array;for(var r in e=e||(n?[]:{}),t){var o=t[r];if("function"==typeof o&&o.prototype instanceof s&&(o={$subview:o}),!o||"object"!=typeof o||o instanceof this.webix.DataCollection||o instanceof RegExp||o instanceof Map)e[r]=o;else if(o instanceof Date)e[r]=new Date(o);else{var a=this.copyConfig(o,o instanceof Array?[]:{},i);null!==a&&(n?e.push(a):e[r]=a)}}return e},e.prototype.getRouter=function(){return this.$router},e.prototype.clickHandler=function(t,e){if(t&&(e=e||t.target||t.srcElement)&&e.getAttribute){var i=e.getAttribute("trigger");if(i)return this._forView(e,(function(t){return t.app.trigger(i)})),t.cancelBubble=!0,t.preventDefault();var n=e.getAttribute("route");if(n)return this._forView(e,(function(t){return t.show(n)})),t.cancelBubble=!0,t.preventDefault()}var r=e.parentNode;r&&this.clickHandler(t,r)},e.prototype.getRoot=function(){return this.getSubView().getRoot()},e.prototype.refresh=function(){var t=this;return this._subSegment?this.getSubView().refresh().then((function(e){return t.callEvent("app:route",[t.getUrl()]),e})):Promise.resolve(null)},e.prototype.loadView=function(t){var e=this,i=this.config.views,n=null;if(""===t)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{i&&"string"==typeof(n="function"==typeof i?i(t):i[t])&&(t=n,n=null),n||("_hidden"===t?n={hidden:!0}:"_blank"===t?n={}:(t=t.replace(/\./g,"/"),n=this.require("jet-views",t)))}catch(e){n=this._loadError(t,e)}return n.then||(n=Promise.resolve(n)),n=n.then((function(t){return t.__esModule?t.default:t})).catch((function(i){return e._loadError(t,i)}))},e.prototype._forView=function(t,e){var i=this.webix.$$(t);i&&e(i.$scope)},e.prototype._loadViewDynamic=function(t){return null},e.prototype.createFromURL=function(t){var e=this;return t.isNew||!t.view?this.loadView(t.page).then((function(i){return e.createView(i,name,t.params)})):Promise.resolve(t.view)},e.prototype._override=function(t){var e=this.config.override;if(e){for(var i=void 0;t;)i=t,t=e.get(t);return i}return t},e.prototype.createView=function(t,i,n){if("function"==typeof(t=this._override(t))){if(t.prototype instanceof e)return new t({app:this,name:i,params:n,router:f});if(t.prototype instanceof s)return new t(this,{name:i,params:n});t=t(this)}return t instanceof s?t:new d(this,{name:i,ui:t})},e.prototype.show=function(t,e){return t&&this.app&&0==t.indexOf("//")?this.app.show(t.substr(1),e):this.render(this._container,t||this.config.start,e)},e.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.apply(t,e)},e.prototype.apply=function(t,e){this.callEvent(t,e)},e.prototype.action=function(t){return this.webix.bind((function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.apply(t,e)}),this)},e.prototype.on=function(t,e){this.attachEvent(t,e)},e.prototype.use=function(t,e){t(this,null,e)},e.prototype.error=function(t,e){if(this.callEvent(t,e),this.callEvent("app:error",e),this.config.debug)for(var i=0;i<e.length;i++)if(console.error(e[i]),e[i]instanceof Error){var n=e[i].message;0===n.indexOf("Module build failed")?(n=n.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+n+"</pre>"):(n+="<br><br>Check console for more details",this.webix.message({type:"error",text:n,expire:-1}))}},e.prototype.render=function(t,e,i){var n=this;this._container="string"==typeof t?this.webix.toNode(t):t||document.body;var r=null;!this.$router?(v&&"tagName"in this._container&&(this.webix.event(document.body,"click",(function(t){return n.clickHandler(t)})),v=!1),"string"==typeof e&&(e=new h(e,0)),this._subSegment=this._first_start(e),this._subSegment.route.linkRouter=!0):r="string"==typeof e?e:this.app?e.split().route.path||this.config.start:e.toString();var o=i?i.params:this.config.params||null,a=this.getSubView(),s=this._subSegment,u=s.show({url:r,params:o},a).then((function(){return n.createFromURL(s.current())})).then((function(e){return e.render(t,s)})).then((function(t){return n.$router.set(s.route.path,{silent:!0}),n.callEvent("app:route",[n.getUrl()]),t}));return this.ready=this.ready.then((function(){return u})),u},e.prototype.getSubView=function(){if(this._subSegment){var t=this._subSegment.current().view;if(t)return t}return new l(this,{})},e.prototype.require=function(t,e){return null},e.prototype._first_start=function(t){var e=this;this._segment=t;if(this.$router=new this.config.router((function(t){return setTimeout((function(){e.show(t).catch((function(t){if(!(t instanceof a))throw t}))}),1)}),this.config,this),this._container===document.body&&!1!==this.config.animation){var i=this._container;this.webix.html.addCss(i,"webixappstart"),setTimeout((function(){e.webix.html.removeCss(i,"webixappstart"),e.webix.html.addCss(i,"webixapp")}),10)}if(t){if(this.app){var n=t.current().view;t.current().view=this,t.next()?(t.refresh(),t=t.split()):t=new h(this.config.start,0),t.current().view=n}}else{var r=this.$router.get();r||(r=this.config.start,this.$router.set(r,{silent:!0})),t=new h(r,0)}return t},e.prototype._loadError=function(t,e){return this.error("app:error:resolve",[e,t]),{template:" "}},e.prototype.addSubView=function(t,e,i){var n=!0!==t.$subview?t.$subview:null,r=t.name||(n?this.webix.uid():"default");return e.id=t.id||"s"+this.webix.uid(),(i[r]={id:e.id,url:n,branch:t.branch,popup:t.popup,params:t.params}).popup?null:e},e}(s),_=function(){function t(t,e){var i=this;this.config=e||{},this._detectPrefix(),this.cb=t,window.onpopstate=function(){return i.cb(i.get())}}return t.prototype.set=function(t,e){var i=this;if(this.config.routes){var n=t.split("?",2);for(var r in this.config.routes)if(this.config.routes[r]===n[0]){t=r+(n.length>1?"?"+n[1]:"");break}}this.get()!==t&&window.history.pushState(null,null,this.prefix+this.sufix+t),e&&e.silent||setTimeout((function(){return i.cb(t)}),1)},t.prototype.get=function(){var t=this._getRaw().replace(this.prefix,"").replace(this.sufix,"");if(t="/"!==t&&"#"!==t?t:"",this.config.routes){var e=t.split("?",2),i=this.config.routes[e[0]];i&&(t=i+(e.length>1?"?"+e[1]:""))}return t},t.prototype._detectPrefix=function(){var t=this.config.routerPrefix;this.sufix="#"+(void 0===t?"!":t),this.prefix=document.location.href.split("#",2)[0]},t.prototype._getRaw=function(){return document.location.href},t}(),y=!1;function w(t){if(!y&&t){y=!0;var e=window;e.Promise||(e.Promise=t.promise);var i=t.version.split(".");10*i[0]+1*i[1]<53&&(t.ui.freeze=function(e){var i=e();return i&&i.then?i.then((function(e){return t.ui.$freeze=!1,t.ui.resize(),e})):(t.ui.$freeze=!1,t.ui.resize()),i});var n=t.ui.baselayout.prototype.addView,r=t.ui.baselayout.prototype.removeView,o={addView:function(t,e){if(this.$scope&&this.$scope.webixJet&&!t.queryView){var i=this.$scope,r={};t=i.app.copyConfig(t,{},r),n.apply(this,[t,e]);var o=function(t){i._renderFrame(t,r[t],null).then((function(){i._subs[t]=r[t]}))};for(var a in r)o(a);return t.id}return n.apply(this,arguments)},removeView:function(){if(r.apply(this,arguments),this.$scope&&this.$scope.webixJet){var e=this.$scope._subs;for(var i in e){var n=e[i];t.$$(n.id)||(n.view.destructor(),delete e[i])}}}};t.extend(t.ui.layout.prototype,o,!0),t.extend(t.ui.baselayout.prototype,o,!0),t.protoUI({name:"jetapp",$init:function(e){this.$app=new this.app(e);var i=t.uid().toString();e.body={id:i},this.$ready.push((function(){this.callEvent("onInit",[this.$app]),this.$app.render({id:i})}))}},t.ui.proxy,t.EventSystem)}}var b=function(t){function e(e){var i;return e.router=e.router||_,w((i=t.call(this,e)||this).webix),i}return i(e,t),e.prototype.require=function(t,e){return require(t+"/"+e)},e}(g),m=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t),e.prototype._detectPrefix=function(){this.prefix="",this.sufix=this.config.routerPrefix||""},e.prototype._getRaw=function(){return document.location.pathname+(document.location.search||"")}}(_),function(){function t(t,e){this.path="",this.cb=t}return t.prototype.set=function(t,e){var i=this;this.path=t,e&&e.silent||setTimeout((function(){return i.cb(t)}),1)},t.prototype.get=function(){return this.path},t}());function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e,i){for(var n in t)x(t,n)&&e.call(i||t,t[n],n,t)}function k(t){t="Warning: "+t,"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(t){}}var j=String.prototype.replace,P=String.prototype.split,$=function(t){var e=t%10;return 11!==t&&1===e?0:2<=e&&e<=4&&!(t>=12&&t<=14)?1:2},T={arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:$,chinese:function(){return 0},croatian:$,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:$,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},C={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function D(t){var e,i=(e={},S(C,(function(t,i){S(t,(function(t){e[t]=i}))})),e);return i[t]||i[P.call(t,/-/,1)[0]]||i.en}function I(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var A=/\$/g,E=/%\{(.*?)\}/g;function L(t,e,i,n){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var r=t,o=n||E,a="number"==typeof e?{smart_count:e}:e;if(null!=a.smart_count&&r){var s=P.call(r,"||||");r=(s[function(t,e){return T[D(t)](e)}(i||"en",a.smart_count)]||s[0]).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}return r=j.call(r,o,(function(t,e){return x(a,e)&&null!=a[e]?j.call(a[e],A,"$$"):t}))}function V(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var i=e.allowMissing?L:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:i,this.warn=e.warn||k,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",i=t&&t.suffix||"}";if("||||"===e||"||||"===i)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(I(e)+"(.*?)"+I(i),"g")}(e.interpolation)}V.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},V.prototype.extend=function(t,e){S(t,(function(t,i){var n=e?e+"."+i:i;"object"==typeof t?this.extend(t,n):this.phrases[n]=t}),this)},V.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:S(t,(function(t,i){var n=e?e+"."+i:i;"object"==typeof t?this.unset(t,n):delete this.phrases[n]}),this)},V.prototype.clear=function(){this.phrases={}},V.prototype.replace=function(t){this.clear(),this.extend(t)},V.prototype.t=function(t,e){var i,n,r=null==e?{}:e;if("string"==typeof this.phrases[t])i=this.phrases[t];else if("string"==typeof r._)i=r._;else if(this.onMissingKey){n=(0,this.onMissingKey)(t,r,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+t+'"'),n=t;return"string"==typeof i&&(n=L(i,r,this.currentLocale,this.tokenRegex)),n},V.prototype.has=function(t){return x(this.phrases,t)},V.transformPhrase=function(t,e,i){return L(t,e,i)};var R=V;var O=window.webix;O&&w(O);var H=function(t,e,i){var n=(i=i||{}).storage,r=n?n.get("lang")||"en":i.lang||"en";function o(e,o,a){o.__esModule&&(o=o.default);var u={phrases:o};i.polyglot&&t.webix.extend(u,i.polyglot);var c=s.polyglot=new R(u);if(c.locale(e),s._=t.webix.bind(c.t,c),r=e,n&&n.put("lang",r),i.webix){var p=i.webix[e];p&&t.webix.i18n.setLocale(p)}return a?Promise.resolve():t.refresh()}function a(e,n){if(!1!==i.path){var r=(i.path?i.path+"/":"")+e;o(e,t.require("jet-locales",r),n)}}var s={getLang:function(){return r},setLang:a,setLangData:o,_:null,polyglot:null};t.setService("locale",s),a(r,!0)},U=window;U.Promise||(U.Promise=U.webix.promise);var G=1;function B(t,e,i){Object.defineProperty(e,i,{get:function(){return t[i]},set:function(e){return t[i]=e}})}function M(t,e){e=e||{};var i={},n={},r=function(t,e){var r=G++;return i[r]={mask:t,handler:e},e("*"===t?n:n[t],void 0,t),r},o=[],a=!1,s=function(t,e,n,r){if(a)o.push([t,e,n,r]);else for(var s=Object.keys(i),u=0;u<s.length;u++){var c=i[s[u]];c&&("*"!==c.mask&&c.mask!==t||c.handler(n,e,t,r))}};return Object.defineProperty(n,"$changes",{value:{attachEvent:r,detachEvent:function(t){delete i[t]}},enumerable:!1,configurable:!1}),Object.defineProperty(n,"$observe",{value:r,enumerable:!1,configurable:!1}),Object.defineProperty(n,"$batch",{value:function(t){if("function"!=typeof t){var e=t;t=function(){for(var t in e)n[t]=e[t]}}for(a=!0,t(n),a=!1;o.length;){var i=o.shift();s.apply(this,i)}},enumerable:!1,configurable:!1}),Object.defineProperty(n,"$extend",{value:function(t,i){for(var r in i=i||e,t)if(t.hasOwnProperty(r)){var o=t[r];i.nested&&"object"==typeof o&&o?n[r]=M(o,i):F(n,o,r,s)}},enumerable:!1,configurable:!1}),n.$extend(t,e),n}function F(t,e,i,n){Object.defineProperty(t,i,{get:function(){return e},set:function(t){if(null===e||null===t?e!==t:e.valueOf()!=t.valueOf()){var r=e;e=t,n(i,r,t,null)}},enumerable:!0,configurable:!1})}var N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.config=function(){var t=this;return{visibleBatch:"presentation",cols:[{localId:"presentation",batch:"presentation",css:"webix_todo_project_presentation",view:"template",borderless:!0,width:200,height:webix.skin.$active.inputHeight-2,template:"",onClick:{webix_template:function(){return t.ToggleSuggestState()}}},{localId:"editor",batch:"editor",css:"webix_todo_project_editor",view:"text",width:200,on:{onBlur:function(){return t.EndEdit()},onEnter:function(){return t.EndEdit()}}}]}},e.prototype.init=function(){var t=this;this.State=this.app.getState(),this.Local=this.app.getService("local"),this.Ops=this.app.getService("operations"),this.on(this.State.$changes,"activeProject",(function(e){return t.SyncTemplate(e)})),this.ProjectList=this.ui({view:"suggest",css:"webix_todo_project_suggest",data:this.Local.projects()}),this.on(this.ProjectList,"onValueSuggest",(function(e){return t.SelectProject(e.id)})),this.on(this.app,"project:action",(function(e){"rename"===e.name&&t.StartEdit()}))},e.prototype.SyncTemplate=function(t){var e=this.Local.projects().getItem(t);this.$$("presentation").setHTML(e.value+" "+this.GetArrowTemplate())},e.prototype.StartEdit=function(){this.getRoot().showBatch("editor");var t=this.$$("editor"),e=this.Local.projects().getItem(this.State.activeProject);t.setValue(e.value),t.focus(),t.getInputNode().setSelectionRange(0,(e.value||"").length)},e.prototype.EndEdit=function(){var t=this.$$("editor").getValue();this.getRoot().showBatch("presentation"),this.Ops.updateProject(this.State.activeProject,{value:t}),this.SyncTemplate(this.State.activeProject)},e.prototype.ToggleSuggestState=function(){this.ProjectList.isVisible()?this.ProjectList.hide():(this.ProjectList.setValue(this.State.activeProject),this.ProjectList.show(this.getRoot().$view))},e.prototype.SelectProject=function(t){this.State.activeProject=t,this.Ops.setProjectData(t)},e.prototype.GetArrowTemplate=function(){return'<span class="webix_icon wxi-angle-down"></span>'},e}(l),z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.config=function(){var t=this;return{view:"template",css:"webix_todo_add",height:webix.skin.$active.inputHeight-2,template:function(e){return t.GetButtonTemplate(e)},onClick:{webix_template:function(){t.app.callEvent("context:action",[{name:"add",$first:!0}])}}}},e.prototype.init=function(t){this.State=this.app.getState(),this.on(this.State.$changes,"readonly",(function(e){t[e?"hide":"show"]()}))},e.prototype.GetButtonTemplate=function(){var t=this.app.getService("locale")._;return'<span style="margin-left:'+(20+(this.app.config.drag?25:0))+'px" class="webix_icon wxi-plus"></span>'+t("Add task")},e}(l),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.config=function(){var t=this;return{view:"context",css:"webix_todo_context",head:!1,body:{view:"list",width:220,autoheight:!0,borderless:!0,template:function(e,i){return t.GetContextTemplate(e,i)},mouseEventDelay:200,data:this.app.getService("helpers").getContextData()}}},e.prototype.init=function(t){var e=this;this.Window=t,this.State=this.app.getState(),this.Local=this.app.getService("local"),this.on(t,"onBeforeShow",(function(){return!e.State.readonly})),this.on(t.getBody(),"onItemClick",(function(t){e.Submenus[t]||(e.CallAction(t),e.Hide())})),this.InitSubmenus()},e.prototype.destroy=function(){this.Submenus=null},e.prototype.AttachTo=function(t){this.Window.attachTo(t)},e.prototype.Show=function(t){this.Window.show(t)},e.prototype.Hide=function(){this.Window.hide()},e.prototype.CallAction=function(t){this.app.callEvent("context:action",[{name:t}])},e.prototype.GetContextTemplate=function(t){var e='<span class="webix_icon '+t.icon+'"></span>'+(t.value||"");return t.hotkey?e+='<span class="webix_todo_right webix_todo_hotkey">'+t.hotkey+"</span>":t.submenu&&(e+="<span class='webix_todo_right webix_icon wxi-menu-right'></span>"),e},e.prototype.InitSubmenus=function(){var t=this;this.Submenus={date:this.InitDueDate(),priority:this.InitPriority(),assign:this.InitUserList(),move:this.InitProjectList()},this.on(this.Window.getBody(),"onMouseMove",(function(e,i,n){if(t.Submenus[e]){t.PrevSubmenu&&t.PrevSubmenu!==e&&t.Submenus[t.PrevSubmenu].hide(),t.PrevSubmenu=e;var r=t.Window.config.left<260?"right":"left";t.Submenus[e].show(n,{pos:r})}else t.PrevSubmenu&&(t.Submenus[t.PrevSubmenu].hide(),t.PrevSubmenu=null)}))},e.prototype.InitDueDate=function(){var t=this,e=this.ui({view:"suggest",type:"calendar",padding:0,body:{height:270,width:250,icons:!0,stringResult:!1}});return this.on(e,"onBeforeShow",(function(){var i=t.State.selected,n=t.Local.data().getItem(i);e.getList().setValue(n.due_date)})),this.on(e,"onValueSuggest",(function(e){t.app.callEvent("context:action",[{name:"date",date:e.value}]),t.Hide()})),e},e.prototype.ShowDueDate=function(t){this.Window.isVisible()||this.Submenus.date.show(t)},e.prototype.InitPriority=function(){var t=this,e=this.ui({view:"suggest",css:"webix_todo_priority_suggest",data:this.app.getService("helpers").getPriorityData()}),i=e.getList();return i.define("template",(function(e,i){return t.GetPriorityTemplate(e,i)})),i.render(),this.on(e,"onBeforeShow",(function(){return e.setValue("")})),this.on(e,"onValueSuggest",(function(e){var i="reset"===e.id?null:e.id;t.app.callEvent("context:action",[{name:"priority",priority:i}])})),e},e.prototype.GetPriorityTemplate=function(t){var e='<span class="webix_todo_priority_dot"></span>';return"reset"==t.id&&(e='<span class="webix_icon '+t.icon+'"></span>'),e+=t.value||"",t.hotkey&&(e+='<span class="webix_todo_right webix_todo_hotkey">'+t.hotkey+"</span>"),e},e.prototype.InitUserList=function(){var t=this,e=this.ui({view:"checksuggest",css:"webix_todo_user_suggest",width:250,data:this.Local.users()}),i=e.getList();return i.define("type",{template:function(e,i){return t.GetUserTemplate(e,i)},checkbox:webix.template.empty,classname:function(t,e){var i=webix.ui.list.prototype.type.classname.apply(e,arguments);return t.$checked&&(i+=" webix_todo_checked"),i}}),i.render(),this.on(e,"onBeforeShow",(function(){if(!i.count())return!1;var n=t.State.selected,r=t.Local.data().getItem(n);e.setValue(r.assigned)})),this.on(e,"onValueSuggest",(function(e){var i=e.id?e.id.split(","):null;t.app.callEvent("context:action",[{name:"assign",users:i}])})),e},e.prototype.GetUserTemplate=function(t){return'<div style="background-image:url('+t.path+')" class="webix_todo_user">&nbsp</div>'+t.value},e.prototype.InitProjectList=function(){var t=this,e=this.ui({view:"suggest",css:"webix_todo_project_suggest",data:this.Local.projects()});return this.on(e,"onBeforeShow",(function(){e.setValue(t.State.activeProject)})),this.on(e,"onValueSuggest",(function(e){t.app.callEvent("context:action",[{name:"move",to:e.id}]),t.Hide()})),e},e}(l);webix.editors.todo_textarea=webix.extend({render:function(){return webix.html.create("div",{class:"webix_dt_editor webix_todo_textarea"},"<textarea aria-label='text'></textarea>")},getInputNode:function(){return this.node.getElementsByTagName("textarea")[0]},afterRender:function(){var t=webix.$$(this.config.node),e=t.getItem(this.row),i=this.getInputNode();i.setAttribute("placeholder",t.$scope._("Enter a description")),this.node.style.paddingLeft=20*(e.$level+1)+"px",this.node.style.paddingBottom=7+(e.due_date?20:0)+"px",e.priority&&webix.html.addCss(i,"webix_todo_priority_"+e.priority,!0),i.prevHeight=i.scrollHeight,webix.event(i,"input",t.$scope.AdjustInput,{bind:t.$scope})}},webix.editors.text);var q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.config=function(){var t=this,e={view:"treetable",css:"webix_todo_workspace",header:!1,select:!0,filterMode:{showSubItems:!1,openParents:!1},editable:!0,drag:!!this.app.config.drag,editaction:"dblclick",tooltip:function(){return""},fixedRowHeight:!1,columns:[{id:"text",fillspace:!0,editor:"todo_textarea",cssFormat:function(e,i){return t.GetCellCss(e,i,"webix_todo_text_cell")},template:function(e,i,n,r){return t.GetTextTemplate(e,i,n,r)}},{width:140,css:"webix_todo_complex_col",cssFormat:function(e,i){return t.GetCellCss(e,i)},template:function(e,i,n,r){return t.GetComplexTemplate(e,i,n,r)}}],onClick:{webix_todo_checkbox:function(e,i){t.getRoot().getEditState()||"webix_icon"!=e.target.classList[0]||t.Ops.toggleTaskState(i)},webix_todo_action:function(e,i){t.LastActiveTask=i.toString(),t.Context.Show(e)},webix_todo_hashtag:function(e){t.app.callEvent("app:filter",[e.target.innerHTML])},webix_todo_due_date:function(e){t.State.readonly||webix.delay((function(){this.Context.ShowDueDate(e)}),t,[e])}}};return this.app.config.drag&&e.columns.unshift({id:"drag",width:25,cssFormat:function(e,i){return t.GetCellCss(e,i)},template:function(e,i,n,r){return t.GetDragTemplate(e,i,n,r)}}),e},e.prototype.init=function(t){var e=this;this.State=this.app.getState(),this.Local=this.app.getService("local"),this.Ops=this.app.getService("operations"),this._=this.app.getService("locale")._,this.Context=this.ui(K),this.Context.AttachTo(t),this.on(t,"onAfterSelect",(function(t){e.State.selected=t=t.toString(),t!==e.LastActiveTask&&e.Context.Hide()})),this.on(t,"onAfterScroll",(function(){return e.Context.Hide()})),this.on(t,"onAfterContextMenu",(function(i){e.LastActiveTask=i.toString(),t.select(i)})),this.on(this.app,"context:action",(function(t){return e.Action(t)})),this.UpdateTomorrowDate(),this.Formats={full:webix.Date.dateToStr("%d %M %Y"),short:webix.Date.dateToStr("%d %M")};var i=this.Local.data();t.sync(i),t.adjustRowHeight("text"),this.on(t,"onResize",(function(){return e.AdjustAfterDelay()})),this.on(i,"onAfterLoad",(function(){return t.adjustRowHeight("text")})),this.on(i.data,"onStoreUpdated",(function(t,i,n){"update"===n&&e.AdjustSingleRow(t,i)})),this.on(this.State.$changes,"activeProject",(function(){return e.FilterByAll(!0)})),this.on(this.State.$changes,"filter",(function(){return e.FilterByAll(!0)})),this.on(this.State.$changes,"show",(function(){return e.FilterByAll(!0)})),this.on(t.data,"onSyncApply",(function(){t.$blockRender=!0,t.data.silent(e.FilterByAll,e),t.$blockRender=!1})),this.on(i,"onBeforeAdd",(function(t,e){e.$created=new Date})),this.on(t,"onAfterEditStart",(function(e){t.getItem(e.row).$editing=!0,t.getItemNode(e).querySelector(".webix_todo_checkbox").firstChild.className="webix_icon webix_todo_editing wxi-pencil"})),this.on(t,"onAfterEditStop",(function(i,n){var r=t.getItem(n.row);delete r.$editing,delete r.$text,i.value!==i.old?e.Ops.updateTask(n.row,{text:i.value}):t.render(n.row)})),this.on(this.State.$changes,"readonly",(function(e){t.define("editable",!e),t.setColumnWidth(108+(e?0:32))})),this.InitDrag(t),this.AddHotkeys()},e.prototype.UpdateTomorrowDate=function(){var t=new Date;this.Tomorrow=webix.Date.add(webix.Date.datePart(t),1,"day"),webix.delay(this.UpdateTomorrowDate,this,[],this.Tomorrow-t+1e3)},e.prototype.GetCellCss=function(t,e,i){return i=i||"",e.priority&&(i+=" webix_todo_priority_"+e.priority),e.$parent||(i+=" webix_todo_ancestor"),i},e.prototype.GetTextTemplate=function(t,e,i,n){var r=t.$text||t.text||"",o="\n"==r.charAt(r.length-1)?"&nbsp;":"",a="webix_todo_text"+(t.checked?" webix_todo_completed":"");return""+e.space(t)+e.icon(t)+this.GetCheckboxTemplate(t,e)+'<span class="'+a+'" style="width:'+(n.width-1-20*(t.$level+1))+'px;">'+(this.MarkHashtags(r)+o+this.GetDueDateTemplate(t,e))+"</span>"},e.prototype.GetCheckboxTemplate=function(t){return'<span class="webix_todo_checkbox"><span class="webix_icon '+(t.$editing?"webix_todo_editing wxi-pencil":"tdi tdi-checkbox-"+(t.checked?"marked-circle":"blank-circle-outline"))+'"></span></span>'},e.prototype.MarkHashtags=function(t){return this.app.config.hashtags?t.replace(/#(\S+)/gi,'<span class="webix_todo_hashtag">#$1</span>'):t},e.prototype.GetDueDateFormat=function(t){var e=this.Formats.short;return t.getFullYear()!==this.Tomorrow.getFullYear()&&(e=this.Formats.full),e},e.prototype.GetDueDateTemplate=function(t){if(!t.due_date)return"";var e="webix_todo_due_date";return t.checked?e+=" webix_todo_inactive_date":t.due_date<this.Tomorrow&&(e+=" webix_todo_incomplete"),'\n<span class="'+e+'"><span class="webix_icon tdi tdi-calendar-outline"></span>'+this.GetDueDateFormat(t.due_date)(t.due_date)+"</span>"},e.prototype.GetComplexTemplate=function(t,e){var i=t.$count_all?this.GetProgressTemplate(t,e):"",n=this.State.readonly?"":'<div class="webix_todo_action"><span class="webix_icon wxi-dots"></span></div>';return i+this.GetUsersTemplate(t,e)+n},e.prototype.GetProgressTemplate=function(t){return'<span class="webix_todo_count">'+t.$checked+"\\"+t.$count_all+"</span>"},e.prototype.GetUsersTemplate=function(t,e){var i=this.Local.users(),n=t.assigned;if(!n||!n.length||!i.count())return"";var r=n.map((function(t){return i.getItem(t)})),o=28,a=this.GetSingleUserTemplate(r[0],e);return n.length>1&&(o+=16,a+=this.GetSingleUserTemplate(r[1],e)),n.length>2&&(o+=16,3===n.length?a+=this.GetSingleUserTemplate(r[2],e):a+='<div class="webix_todo_user">+'+(n.length-2)+"</div>"),'<div style="width:'+o+'px;" webix_tooltip="'+(this._("Assign to")+": "+r.map((function(t){return t.value})).join(", "))+'" class="webix_todo_users">'+a+"</div>"},e.prototype.GetSingleUserTemplate=function(t){var e,i;return t.path?i='style="background-image:url('+t.path+');"':e=(t.value||"").split(" ").map((function(t){return t.at(0)})).join(""),"<div "+(i||"")+' class="webix_todo_user">'+(e||"&nbsp")+"</div>"},e.prototype.AdjustInput=function(t){var e=t.target;if(e.scrollHeight>e.prevHeight){e.prevHeight=e.scrollHeight;var i=this.getRoot(),n=i.getEditState(),r=i.getItem(n.row),o=7;r.due_date&&(o=27,r.$text=n.getValue()),r.$height=e.scrollHeight+o+2,i.render(n.row),n.node.style.height=e.scrollHeight+o+1+"px"}},e.prototype.AdjustAfterDelay=function(){this.AdjustDelay&&(this.AdjustDelay=window.clearTimeout(this.AdjustDelay)),this.AdjustDelay=webix.delay((function(){this.getRoot().adjustRowHeight("text")}),this,[],100)},e.prototype.AdjustSingleRow=function(t,e){var i=this.getRoot(),n=i.getColumnConfig("text"),r=webix.html.create("DIV",{class:"webix_table_cell webix_measure_size webix_cell webix_todo_text_cell"},"");r.style.cssText="width:"+n.width+"px; height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;",i.$view.appendChild(r),r.innerHTML=i.getText(t,"text");var o=Math.max(r.scrollHeight,i.config.rowHeight,i.config.minRowHeight||0);o=Math.min(o,i.config.maxRowHeight||1e5),e.$height!=o&&(e.$height=o,i.refresh(t)),r=webix.html.remove(r)},e.prototype.InitDrag=function(t){var e=this;this.app.config.drag&&(t.$dragPos=function(t){t.x-=Math.round(this.config.rowHeight/2),t.y-=Math.round(this.config.rowHeight/2)},this.on(t,"onBeforeDrag",(function(i,n){var r=n.target&&n.target.parentNode;if(!r||"webix_todo_drag"!=r.className)return!1;t.getEditState()&&t.editStop();var o=t.style,a=t.getItem(i.start),s=364+(a.$count_all?44:0);i.html='<div class="webix_todo_drag_task" style="height:'+t.config.rowHeight+"px;width:"+s+'px">'+(e.GetDragTemplate(a,o)+e.GetCheckboxTemplate(a,o))+'<span class="webix_todo_drag_text">'+(a.text||"")+"</span>"+(a.$count_all?e.GetProgressTemplate(a,o):"")+"</div>"})),this.on(t,"onBeforeDrop",(function(i,n){return i.to!==t||e.Ops._context_to_move(i,n),!1})))},e.prototype.GetDragTemplate=function(){return'<span class="webix_todo_drag"><span class="webix_icon wxi-drag"></span></span>'},e.prototype.Action=function(t){var e=this,i=this.getRoot(),n=this.State.selected;if(n||t.$first)if("add"===t.name){var r=this.Local.data(),o=t.$first?0:r.getBranchIndex(n)+1,a=t.$first?0:r.getParentId(n),s=this.Ops.addTask({project:this.State.activeProject},o,a);i.select(s),i.editCell(s,"text",!1,!0)}else if("add_sub"===t.name){s=this.Ops.addTask({project:this.State.activeProject},null,n);i.open(n),i.select(s),i.editCell(s,"text",!1,!0)}else if("duplicate"===t.name){r=this.Local.data();this.Ops.duplicateTask(n,r.getBranchIndex(n)+1,r.getParentId(n))}else if("delete"===t.name)webix.confirm({container:this.app.getRoot().$view,title:this._("Delete task"),text:this._("The task will be deleted permanently, are you sure?")}).then((function(){e.Ops.removeTask(n),e.UnselectTask()}));else if("copy"===t.name)this.State.copied=n;else if("paste"===t.name){var u=this.State.copied;if(u){if(!i.exists(u))return this.State.copied=null;r=this.Local.data();var c=this.State.activeProject;this.Ops.duplicateTask(u,r.getBranchIndex(n)+1,r.getParentId(n),c)}}else if("indent"===t.name){var p=this.Ops.indent(n);i.open(p)}else"unindent"===t.name?this.Ops.unindent(n):"date"===t.name?this.Ops.updateTask(n,{due_date:t.date}):"assign"===t.name?this.Ops.updateTask(n,{assigned:t.users}):"priority"===t.name?this.Ops.updateTask(n,{priority:t.priority}):"move"===t.name&&(this.Ops.moveTaskTo(n,t.to),this.UnselectTask())},e.prototype.FilterByAll=function(t){var e=this,i=this.getRoot();t&&(this.LastAppliedFilter=new Date),i.filter((function(t){if(t.$created&&t.$created>e.LastAppliedFilter)return!0;if(e.State.activeProject!=t.project)return!1;if("active"==e.State.show&&t.checked)return!1;if("completed"==e.State.show&&!t.checked)return!1;var i=e.State.filter;return!i||-1!==(t.text||"").toString().toLowerCase().indexOf(i)}));var n=this.State.selected;n&&i.exists(n)&&i.select(n)},e.prototype.UnselectTask=function(){this.getRoot().unselect(),this.State.selected=null},e.prototype.AddHotkeys=function(){for(var t=this,e=this.GetHotkeyData(),i=function(i){var r;n.on({attachEvent:function(t,e){return webix.UIManager.addHotKey(t,e,r),{key:t,handler:e}},detachEvent:function(t){var e=t.key,i=t.handler;return webix.UIManager.removeHotKey(e,i,r)}},e[i].key,(function(n,r){t.CheckHotkeyView(n)&&!t.State.readonly&&(t.Action(webix.extend({name:e[i].action},e[i].extend||{})),webix.html.preventEvent(r))}))},n=this,r=0;r<e.length;++r)i(r)},e.prototype.GetHotkeyData=function(){if(!this._hotkeys){var t=webix.env.isMac?"COMMAND":"CTRL";this._hotkeys=[{key:"DELETE",action:"delete"},{key:"BACKSPACE",action:"delete"},{key:t+"+C",action:"copy"},{key:t+"+V",action:"paste"},{key:t+"+D",action:"duplicate"},{key:"ALT+1",action:"priority",extend:{priority:1}},{key:"ALT+2",action:"priority",extend:{priority:2}},{key:"ALT+3",action:"priority",extend:{priority:3}},{key:"ALT+0",action:"priority",extend:{priority:null}}]}return this._hotkeys},e.prototype.CheckHotkeyView=function(t){return t==this.getRoot()&&!t.getEditState()},e}(l),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.config=function(){var t=this;return this.State=this.app.getState(),this.Local=this.app.getService("local"),this._=this.app.getService("locale")._,{localId:"toolbar",css:"webix_todo_toolbar",paddingY:8,margin:0,cols:[N,{gravity:.2},{localId:"searchIcon",view:"icon",icon:"wxi-search",click:function(){return t.ToggleSearchState()}},{localId:"search",css:"webix_todo_search_input",hidden:!0,view:"text",placeholder:this._("Search"),clear:!0},{width:4},{localId:"action",view:"icon",icon:"wxi-dots"},{width:8}]}},e.prototype.init=function(){var t=this;this.Ops=this.app.getService("operations");var e=this.$$("search");this.on(e,"onBlur",(function(){webix.delay((function(){this.$$("search").hide()}),t)})),this.on(e,"onChange",(function(e){t.State.filter=e.toLowerCase(),t.UpdateIconState()})),this.on(e,"onTimedKeyPress",(function(){t.State.filter=e.getValue().toLowerCase(),t.UpdateIconState()})),this.on(this.app,"app:filter",(function(t){return e.setValue(t)})),this.InitProjectContext()},e.prototype.ToggleSearchState=function(){var t=this.$$("search");if(t.isVisible())t.hide();else{t.show(),t.focus();var e=t.getValue().length;t.getInputNode().setSelectionRange(e,e)}},e.prototype.UpdateIconState=function(){var t=this.$$("searchIcon"),e=!!this.State.filter;t.config.state!=e&&(t.config.state=e,t.define("icon","wxi-search"+(e?" webix_todo_active_search":"")),t.render())},e.prototype.InitProjectContext=function(){var t=this,e=this.app.getService("helpers");this.ProjectContext=this.ui({view:"contextmenu",width:204,borderless:!0,css:"webix_todo_project_actions",data:e.getProjectsContextData(),on:{onMenuItemClick:function(e){return t.CallProjectAction(e)}}});var i=this.$$("action");this.on(i,"onItemClick",(function(){t.ProjectContext.isVisible()?t.ProjectContext.hide():(t.FilterProjectActions(),t.ProjectContext.show(i.getInputNode()))})),this.on(this.app,"project:action",(function(e){return t.ProjectAction(e)})),this.on(this.State.$changes,"show",(function(e){var i=t.ProjectContext.getMenuItem(e);t.ProjectContext.updateItem("show",{value:t._("Show")+": "+i.value})}))},e.prototype.FilterProjectActions=function(){var t=this;this.ProjectContext.filter((function(e){return!(t.State.readonly&&!e.readonly)&&("$empty"!==t.State.activeProject||!!e.common)}))},e.prototype.CallProjectAction=function(t){if("show"!=t&&"sort"!=t){if("all"==t||"active"==t||"completed"==t)return this.app.callEvent("project:action",[{name:"show",id:t}]);if(this.ProjectContext.getMenu(t).config.$sort)return this.app.callEvent("project:action",[{name:"sort",id:t}]);this.app.callEvent("project:action",[{name:t}])}},e.prototype.ProjectAction=function(t){if("add"===t.name){var e={value:this._("New project")},i=this.Ops.addProject(e);this.State.activeProject=i}else if("delete"===t.name)this.Ops.removeProject(this.State.activeProject),this.State.activeProject="$empty";else if("show"===t.name)this.State.show=t.id;else if("sort"===t.name){var n=t.id.split("-"),r=n[0],o=n[1];this.Ops.sort("#"+r+"#",o,{text:"string",priority:"int",due_date:"date"}[r])}},e}(l),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.config=function(){return{rows:[W,{rows:[z,q]}]}},e}(l),Y={JetView:l};Y.active=N,Y.add=z,Y.list=J,Y.toolbar=W,Y["windows/context"]=K,Y.workspace=q;var Z=function(){function t(t){this.app=t,this._backend=this.app.getService("backend")}return t.prototype.data=function(t){var e=this;if(this._data&&!t)return this._data;if(this._data||(this._data=new webix.TreeCollection({on:{"data->onStoreLoad":function(){e._data.data.each((function(t){this.countChecked(t.id,t,!0)}),e,!0,0)},"data->onStoreUpdated":function(t,i){t&&i&&e.countChecked(i.$parent)}},scheme:{$init:function(t){t.project||(t.project="$empty"),t.due_date&&(t.due_date=webix.i18n.parseFormatDate(t.due_date))},$serialize:function(t){return e.taskOut(t)},$export:function(t){return e.taskOut(t)}}})),this._backend._url){var i=this.app.getState().activeProject;this._backend.projectTasks(i).then((function(t){var i=e.getTreeData(t||[],0);e._data.parse(i)}))}else this._data.parse(this.getTreeData(this.app.config.data||[],0));return this._data},t.prototype.taskOut=function(t){for(var e in"$empty"===(t=webix.copy(t)).project&&delete t.project,t)0===e.indexOf("$")&&delete t[e];return t},t.prototype.countChecked=function(t,e,i){if(t)if((e=e||this._data.getItem(t)).$count){for(var n=this._data.data.getBranch(t),r=0,o=0;o<n.length;o++)n[o].checked&&r++;e.$checked=r,e.$count_all=e.$count,i||this._data.refresh()}else delete e.$count_all},t.prototype.getTreeData=function(t,e){var i=this,n=t.filter((function(t){return t.parent==e}));return n.forEach((function(e){var n=i.getTreeData(t,e.id);n&&(e.data=n)})),n},t.prototype.projects=function(t){var e=this;if(this._projects&&!t)return this._projects;if(!this._projects){this._projects=new webix.DataCollection({});var i=this.app.getService("locale")._;this._projects.add({id:"$empty",value:i("No project")})}return this._backend._url?this._backend.projects().then((function(t){e._projects.parse(t||[])})):this._projects.parse(this.app.config.projects||[]),this._projects},t.prototype.users=function(t){var e=this;return this._users&&!t||(this._users||(this._users=new webix.DataCollection({})),this._backend._url?this._backend.users().then((function(t){e._users.parse(t||[])})):this._users.parse(this.app.config.users||[])),this._users},t.prototype.clearAll=function(){var t=this;["data","projects","users"].forEach((function(e){var i="_"+e;t[i]&&t[i].clearAll()}));var e=this.app.getService("locale")._;this._projects.add({id:"$empty",value:e("No project")}),this._backend._url&&(this._backend._url=null,this._backend._loaded={}),this.app.getState().$batch({filter:"",activeProject:"$empty"})},t.prototype.reload=function(t){var e=this;this.clearAll(),this._backend._url=t;var i=[];["data","projects","users"].forEach((function(t){var n=e[t](!0);i.push(n.waitData)}))},t}(),Q=function(){function t(t){this.app=t,this._local=this.app.getService("local"),this._backend=this.app.getService("backend")}return t.prototype.toggleTaskState=function(t){var e=this._local.data(),i=e.getItem(t);e.updateItem(t,{checked:!i.checked}),this._backend._url&&this._backend.updateTask(i.id,i)},t.prototype.addTask=function(t,e,i){var n=this._local.data().add(t,e,i);return this._backend._url&&this._backend.addTask(n,t,e,i),n},t.prototype.updateTask=function(t,e){this._local.data().updateItem(t,e),this._backend._url&&this._backend.updateTask(t,e)},t.prototype.removeTask=function(t){this._local.data().remove(t),this._backend._url&&this._backend.removeTask(t)},t.prototype.moveTaskTo=function(t,e){var i=this._local.data(),n=i.getParentId(t);this._updateChilds(i,t,e),i.move(t,-1,i,{parent:0}),this._local.countChecked(n),this._backend._url&&this._backend.moveTask(t,e)},t.prototype._updateChilds=function(t,e,i){t.getItem(e).project=i;var n=t.data.getBranch(e);if(n.length)for(var r=0;r<n.length;r++)this._updateChilds(t,n[r].id,i)},t.prototype.duplicateTask=function(t,e,i,n){var r=this._local.data().data,o=[];this._collectData(o,t,e,i,n),r.blockEvent();for(var a=0;a<o.length;a++)r.add(o[a].item,o[a].index,o[a].parent);r.unblockEvent(),r.refresh(),this._backend._url&&this._backend.cloneTask(e,i,n,o)},t.prototype._collectData=function(t,e,i,n,r){var o=this._local.data(),a=webix.copy(o.getItem(e)),s=a.id=webix.uid();r&&(a.project=r),t.push({item:a,index:i,parent:n});var u=o.data.getBranch(e);if(u.length)for(var c=0;c<u.length;c++)this._collectData(t,u[c].id,c,s,r)},t.prototype.indent=function(t){var e=this._local.data(),i=e.getParentId(t),n=e.getItem(t).project,r=this._findPrev(t,i,n);return!!r&&(e.move(t,-1,e,{parent:r}),this._local.countChecked(i),this._local.countChecked(r),this._backend._url&&this._backend.indentTask(t,r),r)},t.prototype._findPrev=function(t,e,i){var n=this._local.data(),r=n.getBranchIndex(t);if(!r)return null;if(e)return n.data.getBranch(e)[r-1].id;for(var o=n.data.getBranch(e),a=r-1;a>=0;a--)if(i==o[a].project)return o[a].id;return null},t.prototype.unindent=function(t){var e=this._local.data(),i=e.getParentId(t);if(!i)return!1;var n=e.getBranchIndex(i)+1,r=e.getParentId(i);return e.move(t,n,e,{parent:r}),this._local.countChecked(i),this._local.countChecked(r),this._backend._url&&this._backend.unindentTask(t,r),r},t.prototype.addProject=function(t){var e=this._local.projects().add(t);return this._backend._url&&this._backend.addProject(e,t.value),e},t.prototype.updateProject=function(t,e){this._local.projects().updateItem(t,e),this._backend._url&&this._backend.updateProject(t,e.value)},t.prototype.removeProject=function(t){this._local.projects().remove(t),this._backend._url&&this._backend.removeProject(t)},t.prototype.setProjectData=function(t){var e=this;this._backend._url&&this._backend.projectTasks(t).then((function(t){var i=e._local.getTreeData(t||[],0);e._local.data().parse(i)}))},t.prototype.sort=function(t,e,i){this._local.data().sort(t,e,i)},t.prototype._context_to_move=function(t){var e=this._local.data(),i=t.target&&t.target.row,n={parent:t.parent,mode:t.pos};t.parent||(t.index=i?e.getBranchIndex(i):e.count()),e.move(t.source,t.index,e,n)},t}(),X=function(){function t(t){this.app=t}return t.prototype.getContextData=function(){var t=this.app.getService("locale")._;return[{id:"add",value:t("Add task below"),icon:"wxi-plus"},{id:"add_sub",value:t("Add subtask"),$css:"webix_todo_group_end",icon:"tdi tdi-add-subtask-custom"},{id:"indent",value:t("Indent"),icon:"tdi tdi-format-indent-increase"},{id:"unindent",value:t("Unindent"),icon:"tdi tdi-format-indent-decrease"},{id:"date",value:t("Set due date"),icon:"tdi tdi-calendar-outline",submenu:!0},{id:"priority",value:t("Priority"),icon:"tdi tdi-alert-circle-outline",submenu:!0},{id:"assign",value:t("Assign to"),icon:"tdi tdi-account-multiple-plus",submenu:!0},{id:"move",value:t("Move to"),icon:"wxi-folder-open",submenu:!0},{id:"duplicate",value:t("Duplicate"),icon:"tdi tdi-content-duplicate",hotkey:"Ctrl + D"},{id:"copy",value:t("Copy"),icon:"tdi tdi-content-copy",hotkey:"Ctrl + C"},{id:"paste",value:t("Paste"),$css:"webix_todo_group_end",icon:"tdi tdi-shape-square-plus",hotkey:"Ctrl + V"},{id:"delete",value:t("Delete"),$css:"webix_todo_action_remove",icon:"tdi tdi-delete",hotkey:"Delete"}]},t.prototype.getPriorityData=function(){var t=this.app.getService("locale")._;return[{id:"1",value:t("Low"),hotkey:"Alt + 1",$css:"webix_todo_priority_low"},{id:"2",value:t("Medium"),hotkey:"Alt + 2",$css:"webix_todo_priority_medium"},{id:"3",value:t("High"),hotkey:"Alt + 3",$css:"webix_todo_priority_high webix_todo_group_end"},{id:"reset",value:t("Reset priority"),hotkey:"Alt + 0",icon:"tdi tdi-reload"}]},t.prototype.getProjectsContextData=function(){var t=this.app.getService("locale")._;return[{id:"sort",value:t("Sort by"),icon:"tdi tdi-sort",common:!0,readonly:!0,config:{width:216,css:"webix_todo_project_actions",$sort:!0},submenu:[{id:"text-asc",value:t("Text (a-z)"),icon:"tdi tdi-sort-ascending"},{id:"text-desc",value:t("Text (z-a)"),icon:"tdi tdi-sort-descending",$css:"webix_todo_group_end"},{id:"priority-asc",value:t("Priority (low to high)"),icon:"tdi tdi-sort-ascending"},{id:"priority-desc",value:t("Priority (high to low)"),icon:"tdi tdi-sort-descending",$css:"webix_todo_group_end"},{id:"due_date-asc",value:t("Due date (old to new)"),icon:"tdi tdi-sort-ascending"},{id:"due_date-desc",value:t("Due date (new to old)"),icon:"tdi tdi-sort-descending",$css:"webix_todo_group_end"}]},{id:"show",icon:"wxi-check",$css:"webix_todo_group_end",common:!0,readonly:!0,submenu:[{id:"all",value:t("all")},{id:"active",value:t("active")},{id:"completed",value:t("completed")}]},{id:"add",value:t("Add project"),icon:"wxi-plus",common:!0},{id:"rename",value:t("Rename project"),icon:"wxi-pencil"},{id:"delete",value:t("Delete project"),icon:"tdi tdi-delete"}]},t}(),tt=function(){function t(t,e){this.app=t,this._url=e,this._loaded={}}return t.prototype.url=function(t){return this._url+t},t.prototype.allTasks=function(){return this._send(this.url("tasks"),"GET")},t.prototype.projectTasks=function(t){return this._loaded[t]?webix.promise.reject("already loaded"):(this._loaded[t]=!0,this._send(this.url("tasks/projects/"+t),"GET"))},t.prototype.addTask=function(t,e,i,n){var r=this;if(!e)return webix.promise.reject("task object not defined");var o=this.app.getService("local").data(),a={project:e.project,parent:n,after:i?o.getPrevSiblingId(t):0};return this._send(this.url("tasks"),"POST",this._prepareData(a)).then((function(e){return o.data.changeId(t,e.id),r.app.getState().selected=e.id,e.id}))},t.prototype.updateTask=function(t,e){if(!e)return webix.promise.reject("no fields to update");var i=this.app.getService("local").data(),n=webix.copy(i.getItem(t));return webix.extend(n,e,!0),this._send(this.url("tasks/"+t),"PUT",this._prepareData(n))},t.prototype.removeTask=function(t){return this._send(this.url("tasks/"+t),"DELETE")},t.prototype.moveTask=function(t,e){return e="$empty"==e?0:e,this._send(this.url("move/"+t),"PUT",{project:e})},t.prototype.indentTask=function(t,e){return this._send(this.url("indent/"+t),"PUT",{parent:e})},t.prototype.unindentTask=function(t,e){return this._send(this.url("unindent/"+t),"PUT",{parent:e})},t.prototype.cloneTask=function(t,e,i,r){if(!r)return webix.promise.reject("no tasks to clone");var o=this.app.getService("local").data(),a=r.map((function(t){return n(n({},t.item),{parent:t.parent})})),s={after:o.data.getBranch(e).find((function(e,i){return i==t-1})).id,parent:e,project:i,batch:a};return this._prepareData(s),this._send(this.url("clone"),"POST",s).then((function(t){for(var e in t){o.data.changeId(e,t[e]);var i=o.data.getItem(t[e]);i.parent=i.$parent}return t}))},t.prototype.projects=function(){return this._send(this.url("projects"),"GET")},t.prototype.addProject=function(t,e){var i=this;return this._send(this.url("projects"),"POST",{value:e}).then((function(e){return i.app.getService("local").projects().data.changeId(t,e.id),i.app.getState().activeProject=e.id,e.id}))},t.prototype.removeProject=function(t){return this._send(this.url("projects/"+t),"DELETE")},t.prototype.updateProject=function(t,e){return this._send(this.url("projects/"+t),"PUT",{value:e})},t.prototype.users=function(){return this._send(this.url("users"),"GET")},t.prototype._send=function(t,e,i){var n=this,a={method:e,headers:{"Content-Type":"application/json"}};return i&&(a.body="object"==typeof i?JSON.stringify(i):i),fetch(t,a).then((function(t){return r(n,void 0,void 0,(function(){var e;return o(this,(function(i){switch(i.label){case 0:return 500!=t.status?[3,2]:[4,t.text()];case 1:return e=i.sent(),[2,webix.promise.reject(e)];case 2:return[4,t.json()];case 3:return[2,i.sent()]}}))}))}))},t.prototype._prepareData=function(t){for(var e in t){var i=t[e];if(i)switch(e){case"assigned":t[e]=i.map((function(t){return parseInt(t)}));break;case"due_date":t[e]=webix.i18n.parseFormatStr(i);break;case"project":"$empty"==i&&(t[e]=0);break;case"priority":t[e]=parseInt(i);break;case"$parent":t.parent=t[e];break;default:"object"==typeof i&&this._prepareData(t[e])}}return t},t}(),et=function(t){function e(e){var i=this,r=M({filter:"",show:"all",activeProject:"$empty",readonly:e.readonly||!1}),o={router:m,version:"10.1.5",debug:!0,start:"/list",hashtags:!1,drag:!1,params:{state:r}};(i=t.call(this,n(n({},o),e))||this).config.debug&&(webix.Promise=window.Promise);var a=function(t){return i.config.override&&i.config.override.get(t)||t};return i.setService("backend",new(a(tt))(i,e.url)),i.setService("local",new(a(Z))(i)),i.setService("operations",new(a(Q))(i)),i.setService("helpers",new(a(X))(i)),i.use(H,i.config.locale||{lang:"en",webix:{en:"en-US"}}),i}return i(e,t),e.prototype.require=function(t,e){return"jet-views"===t?Y[e]:"jet-locales"===t?nt[e]:null},e.prototype.getState=function(){return this.config.params.state},e}(b);webix.protoUI({name:"todo",app:et,getState:function(){return this.$app.getState()},getService:function(t){return this.$app.getService(t)},$init:function(){var t=this.$app.getState();for(var e in t)B(t,this.config,e)},clearAll:function(){this.$app.getService("local").clearAll()},reload:function(t){this.$app.getService("local").reload(t)}},webix.ui.jetapp);var it={Local:Z,Backend:tt,Operations:Q,Helpers:X},nt={en:{"Add task below":"Add task below","Add subtask":"Add subtask",Indent:"Indent",Unindent:"Unindent","Set due date":"Set due date",Priority:"Priority",Low:"Low",Medium:"Medium",High:"High","Reset priority":"Reset priority","Assign to":"Assign to","Move to":"Move to",Duplicate:"Duplicate",Copy:"Copy",Paste:"Paste",Delete:"Delete","Add project":"Add project","Rename project":"Rename project","Delete project":"Delete project","No project":"No project","Add task":"Add task","New project":"New project","Enter a description":"Enter a description",Search:"Search",Show:"Show",all:"all",active:"active",completed:"completed","Sort by":"Sort by","Text (a-z)":"Text (a-z)","Text (z-a)":"Text (z-a)","Priority (low to high)":"Priority (low to high)","Priority (high to low)":"Priority (high to low)","Due date (old to new)":"Due date (old to new)","Due date (new to old)":"Due date (new to old)","Delete task":"Delete task","The task will be deleted permanently, are you sure?":"The task will be deleted permanently, are you sure?"}};t.App=et,t.locales=nt,t.services=it,t.views=Y,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=todo.min.js.map
